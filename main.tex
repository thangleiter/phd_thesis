%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% kaobook
% LaTeX Class
% Version 0.9.8 (2021/08/23)
%
% This template originates from:
% https://www.LaTeXTemplates.com
%
% For the latest template development version and to make contributions:
% https://github.com/fmarotta/kaobook
%
% Authors:
% Federico Marotta (federicomarotta@mail.com)
% Based on the doctoral thesis of Ken Arroyo Ohori (https://3d.bk.tudelft.nl/ken/en)
% and on the Tufte-LaTeX class.
% Modified for LaTeX Templates by Vel (vel@latextemplates.com)
%
% License:
% LPPL (see included MANIFEST.md file)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{tex/predoc}

\documentclass[
	a4paper, % Page size
	fontsize=10pt, % Base font size
	twoside=true, % Use different layouts for even and odd pages (in particular, if twoside=true, the margin column will be always on the outside)
	%open=any, % If twoside=true, uncomment this to force new chapters to start on any page, not only on right (odd) pages
	%chapterentrydots=true, % Uncomment to output dots from the chapter name to the page number in the table of contents
	numbers=noenddot, % Comment to output dots after chapter numbers; the most common values for this option are: enddot, noenddot and auto (see the KOMAScript documentation for an in-depth explanation)
	fontmethod=modern, % Can also use "modern" with XeLaTeX or LuaTex; "tex" is the default for PdfLaTex, and "modern" is the default for those two.
	listing=minted
]{kaobook}

\input{tex/preamble}
\input{tex/commands}
\input{tex/colors}

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGES
%----------------------------------------------------------------------------------------

\KOMAoptions{twoside=semi}
\input{chs/titlepage}
\KOMAoptions{twoside=true} % switch this to whatever you set in the documentclass options

%----------------------------------------------------------------------------------------
%	SUMMARY
%----------------------------------------------------------------------------------------

\include{chs/summary}

%----------------------------------------------------------------------------------------
%	ACKNOWLEDGEMENTS
%----------------------------------------------------------------------------------------

\include{chs/acknowledgements}

%----------------------------------------------------------------------------------------
%	PREFACE
%----------------------------------------------------------------------------------------

\include{chs/preface}

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS & LIST OF FIGURES/TABLES
%----------------------------------------------------------------------------------------

\begingroup % Local scope for the following commands

% Define the style for the TOC, LOF, and LOT
%\setstretch{1} % Uncomment to modify line spacing in the ToC
%\hypersetup{linkcolor=blue} % Uncomment to set the colour of links in the ToC
\setlength{\textheight}{230\hscale} % Manually adjust the height of the ToC pages

% Turn on compatibility mode for the etoc package
\etocclasstocstyle % "toc display" as if etoc was not loaded
\etocstandardlines % "toc lines as if etoc was not loaded

\tableofcontents % Output the table of contents

\cleardoublepage\bigskip
\clearpage\bigskip
\include{chs/publications}

\cleardoublepage\bigskip
\clearpage\bigskip
\include{chs/software}

\endgroup

%----------------------------------------------------------------------------------------
%	MAIN BODY
%----------------------------------------------------------------------------------------

\mainmatter % Denotes the start of the main document content, resets page numbering and uses arabic numbers
\setchapterstyle{kao} % Choose the default chapter heading style

% TODO: Abstract!
% \include{chapters/introduction.tex}

\pagelayout{wide} % No margins
\part{A Flexible \python Tool For Fourier-Transform Noise Spectroscopy}
\label{part:speck}
\pagelayout{margin} % Restore margins
\glsresetall % Reset all gls counters to have acronyms printed in full the first time they occur in each part

\include{chs/spectrometer/introduction}
\include{chs/spectrometer/theory}
\include{chs/spectrometer/software}
\include{chs/spectrometer/conclusion}

\pagelayout{wide} % No margins
\part{Characterization and Improvements of a Millikelvin Confocal Microscope}
\label{part:setup}
\pagelayout{margin} % Restore margins
\glsresetall

\include{chs/setup/introduction}
\include{chs/setup/cooling}
\include{chs/setup/optics}
\include{chs/setup/vibrations}
\include{chs/setup/conclusion}

\pagelayout{wide} % No margins
\part{Optical Measurements of Electrostatic Exciton Traps in Semiconductor Membranes}
\label{part:exp}
\pagelayout{margin} % Restore margins
\glsresetall

\include{chs/experiment/introduction}
\include{chs/experiment/theory}
\include{chs/experiment/mjolnir}
\include{chs/experiment/observations}
\include{chs/experiment/conclusion}

\pagelayout{wide} % No margins
\part{A Filter-Function Formalism For Unital Quantum Operations}
\label{part:ff}
\pagelayout{margin} % Restore margins
\glsresetall

\include{chs/filter_functions/introduction}
\include{chs/filter_functions/formalism}
\include{chs/filter_functions/validation}
\include{chs/filter_functions/software}
\include{chs/filter_functions/applications}
\include{chs/filter_functions/conclusion}

\appendix % From here onwards, chapters are numbered with letters, as is the appendix convention

\pagelayout{wide} % No margins
\addpart{Appendix}
\label{part:appendix}
\pagelayout{margin} % Restore margins
\glsresetall

\include{chs/appendices/setup}
\include{chs/appendices/experiment}
\include{chs/appendices/filter_functions}

%----------------------------------------------------------------------------------------

\backmatter % Denotes the end of the main document content
\setchapterstyle{plain} % Output plain chapters from this point onwards

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

% The bibliography needs to be compiled with biber using your LaTeX editor, or on the command line with 'biber main' from the template directory

%\defbibnote{bibnote}{Here are the references in citation order.\par\bigskip} % Prepend this text to the bibliography
\printbibliography[
	heading=bibintoc,%
	title=Bibliography,
	%prenote=bibnote
] % Add the bibliography heading to the ToC, set the title of the bibliography and output the bibliography note

%----------------------------------------------------------------------------------------
%	GLOSSARY
%----------------------------------------------------------------------------------------

% The glossary needs to be compiled on the command line with 'makeglossaries main' from the template directory

\setglossarystyle{listgroup} % Set the style of the glossary (see https://en.wikibooks.org/wiki/LaTeX/Glossary for a reference)
\printglossary[title=Glossary, toctitle=Glossary] % Output the glossary, 'title' is the chapter heading for the glossary, toctitle is the table of contents heading
\label{glo}

%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------

% The index needs to be compiled on the command line with 'makeindex main' from the template directory

% \printindex % Output the index

%----------------------------------------------------------------------------------------
%   LIST OF FIGURES
%----------------------------------------------------------------------------------------
% Rename the LoF title
\renewcommand{\listfigurename}{Figure source files and parameters}

% Print LoF with proper heading, ToC entry, bookmark
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures
\label{lof}

% Comment both of the following lines to have the LOF and the LOT on
% different pages
% \cleardoublepage\bigskip
% \clearpage\bigskip

%\listoftables % Output the list of tables

%\listoflstlistings % Output the list of listings

%----------------------------------------------------------------------------------------
%   DECLARATION OF AUTHORSHIP
%----------------------------------------------------------------------------------------
\input{chs/declaration}

%----------------------------------------------------------------------------------------
%	BACK COVER
%----------------------------------------------------------------------------------------

% If you have a PDF/image file that you want to use as a back cover, uncomment the following lines

%\clearpage
%\thispagestyle{empty}
%\null%
%\clearpage
%\inputpdf{cover-back.pdf}

%----------------------------------------------------------------------------------------

\end{document}
